<div class = "container">
  <%= javascript_pack_tag 'deal_form_images', 'data-turbolinks-track': 'reload' %>

  <%= form_with(model: deal, url: deal_path, local: true, class: "form-signin") do |form| %>
    <% if deal.errors.any? %>
      <div class = "card text-white bg-danger mb-4">
        <div class = "card-header">
          <h2> <%= deal.errors.count %> errors prohibited this user from getting saved:</h2>
        </div>
        <ul>
        <div class="card-text">
          <% deal.errors.full_messages.each do |message| %>
            <li> <%= message %> </li>
          <% end %>
          </div>
        </ul>
      </div>
    <% end %>
    
    <h4> Enter Deal Details </h4>

    <div class = "form-group">
      <%= form.label :title, "Title:" %>
      <%= form.text_field :title, placeholder: "Title" %>
    </div>

    <div class = "form-group">
      <%= form.label :description, "Description:", class: "sr-only" %>
      <%= form.text_area :description, placeholder: "Description", rows: 5, cols: 30  %>
    </div>

    <div class = "form-group">
      <%= form.label :price, "Price:" %>
      <%= form.text_field :price, placeholder: "Price" %>
    </div>

    <div class = "form-group">
      <%= form.label :discount_price, "Discount:" %>
      <%= form.text_field :discount_price, placeholder: "Discount_price" %>
    </div>

    <div class = "form-group">
      <%= form.label :quantity, "Quantity:" %>
      <%= form.text_field :quantity, placeholder: "Quantity" %>
    </div>

    <%= render 'image_fields', f: form %>
    <%= link_to_add_fields "Add more Images", form, "images" %>

    <div class = "form-group">
    <br>
      <%= form.submit :CREATE, class: "btn btn-primary" %>
    </div>

  <% end %>
</div>
